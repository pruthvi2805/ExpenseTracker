#!/usr/bin/env bash

# Block pushes to protected branches locally.
protected_branches=("main" "master")

current_branch=$(git rev-parse --abbrev-ref HEAD 2>/dev/null)
for b in "${protected_branches[@]}"; do
  if [ "$current_branch" = "$b" ]; then
    echo "âœ– Push to '$b' is blocked by local hook. Create a feature branch and open a PR."
    echo "  Example: git switch -c feat/short-description && git push -u origin HEAD"
    exit 1
  fi
done

exit 0

